# city_aliases.py

CITY_ALIASES = {
    "київ": ["київ", "києва", "києву", "києвом", "києві", "kiev", "kyiv", "киев", "в київ", "до києва"],
    "ізюм": ["ізюм", "ізюма", "ізюму", "ізюмом", "ізюмі", "изюм", "izium", "izum", "в ізюм", "до ізюма"],
    "бориспіль": ["бориспіль", "борисполя", "борисполю", "борисполем", "борисполі", "борисполь", "boryspil", "в бориспіль", "до борисполя"],
    "лубни": ["лубни", "лубен", "лубнам", "лубнами", "лубнах", "lubny", "в лубни", "до лубен"],
    "хорол": ["хорол", "хорола", "хоролу", "хоролом", "хоролі", "khorol", "в хорол", "до хорола"],
    "дніпро": ["дніпро", "дніпра", "дніпру", "дніпром", "дніпрі", "днепр", "dnipro", "в дніпро", "до дніпра"],
    "павлоград": ["павлоград", "павлограда", "павлограду", "павлоградом", "павлограді", "pavlohrad", "в павлоград", "до павлограда"],
    "миколаївка": ["миколаївка", "миколаївки", "миколаївці", "миколаївку", "миколаївкою", "николаевка", "mykolaivka", "в миколаївку"],
    "слов'янка": ["слов'янка", "слов'янки", "слов'янці", "слов'янку", "слов'янкою", "славянка", "slovianska", "в слов'янку"],
    "покровськ": ["покровськ", "покровська", "покровську", "покровськом", "покровске", "pokrovsk", "красноармійськ", "в покровськ"],
    "добропілля": ["добропілля", "добропіллю", "добропіллям", "доброполье", "dobropole", "dobropillya", "в добропілля"],
    "краматорськ": ["краматорськ", "краматорська", "краматорську", "краматорськом", "краматорске", "kramatorsk", "в краматорськ"],
    "дружківка": ["дружківка", "дружківки", "дружківці", "дружківку", "дружковкою", "дружковка", "druzhkivka", "в дружківку"],
    "слов'янськ": ["слов'янськ", "слов'янська", "слов'янську", "слов'янськом", "славянск", "sloviansk", "в слов'янськ"],
    "пирятин": ["пирятин", "пирятина", "пирятину", "пирятином", "пирятині", "pyriatyn", "в пирятин"],
    "решетилівка": ["решетилівка", "решетилівки", "решетилівці", "решетилівку", "решетиловка", "reshytilivka", "в решетилівку"],
    "полтава": ["полтава", "полтави", "полтаві", "полтаву", "полтавою", "poltava", "в полтаву"],
    "карлівка": ["карлівка", "карлівки", "карлівці", "карлівку", "карловка", "karlivka", "в карлівку"],
    "красноград": ["красноград", "краснограда", "краснограду", "красноградом", "краснограді", "krasnohrad", "в красноград"],
    "новомосковськ": ["новомосковськ", "новомосковська", "новомосковську", "новомосковском", "novomoskovsk", "самар", "в новомосковськ"],
    "межова": ["межова", "межової", "межовій", "межову", "межевая", "mezhova", "в межову"],
    "п'ятихатки": ["п'ятихатки", "пятихаток", "пятихаткам", "пятихатках", "пятихатки", "pyatykhatky", "в п'ятихатки"],
    "олександрія": ["олександрія", "олександрії", "олександрію", "олександрією", "александрия", "oleksandriia", "alexandria", "в олександрію"],
    "знам'янка": ["знам'янка", "знам'янки", "знам'янці", "знам'янку", "знамянкою", "знаменка", "znamianka", "в знам'янку"],
    "кропивницький": ["кропивницький", "кропивницького", "кропивницькому", "кропивницьким", "кіровоград", "kropyvnytskyi", "kirovohrad", "в кропивницький", "до кропивницького"],
    "умань": ["умань", "умані", "уманню", "uman", "в умань", "до умані"],
    "гайсин": ["гайсин", "гайсина", "гайсину", "гайсином", "гайсині", "haisyn", "gaysin", "в гайсин"],
    "вінниця": ["вінниця", "вінниці", "вінницю", "вінницею", "винница", "vinnitsa", "vinnytsia", "в вінницю"],
    "хмельницький": ["хмельницький", "хмельницького", "хмельницькому", "хмельницьким", "хмельницкий", "khmelnytskyi", "в хмельницький"],
    "львів": ["львів", "львова", "львову", "львовом", "львові", "львов", "lviv", "в львів", "до львова"]
    # Додай інші міста за потреби
}

# Автоматична генерація зворотного словника
ALIAS_TO_CITY = {}
for city, aliases in CITY_ALIASES.items():
    for alias in aliases:
        ALIAS_TO_CITY[alias.strip().lower()] = city

def normalize_city(text: str) -> str:
    """
    Приводить назву міста до нормалізованої форми (ключ CITY_ALIASES).
    """
    text = text.strip().lower()
    return ALIAS_TO_CITY.get(text)

def all_city_aliases() -> list[str]:
    """
    Повертає всі можливі назви міст (основні та синоніми).
    """
    return list(ALIAS_TO_CITY.keys())

